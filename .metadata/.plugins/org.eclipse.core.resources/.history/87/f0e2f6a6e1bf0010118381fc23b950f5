package rationnel;

import types.Rationnel;
import util.Outils;
import java.lang.Math;

public class RationnelSimple implements Rationnel{
	private int numerateur;
	private int denominateur;
	
	public RationnelSimple(int numerateur) {
		this.numerateur = numerateur;
		this.denominateur = 1;
		
	}
	
	public RationnelSimple(int numerateur, int denominateur) {
		int a = Outils.pgcd(numerateur, denominateur); //pgcd function has asserts that check if the numbers are coherent.
		this.numerateur = numerateur/a;
		this.denominateur = denominateur/a;
		
		
	}
	
	public RationnelSimple(Rationnel r) {
		this.numerateur = r.getNumerateur();
		this.denominateur = r.getDenominateur();
	}


	public boolean equals(Rationnel r) 
	{
		return this.numerateur == r.getNumerateur() && this.denominateur == r.getDenominateur();
	}
	
	
	public Rationnel somme(Rationnel r) 
	{
		return new RationnelSimple(r.getDenominateur() * this.numerateur +  this.denominateur* r.getNumerateur()   ,    this.denominateur * r.getDenominateur()); 
	}

	public Rationnel inverse() 
	{
		return new RationnelSimple(this.denominateur, this.numerateur);
	}

	public double valeur() 
	{
		return (double) this.numerateur/this.denominateur;
	}
	
	  public String toString() 
	  {
		  return this.numerateur + "/" + this.denominateur;
	  }

	  @Override
	  public int getNumerateur() {
		return this.numerateur;
	  }

	  @Override
	  public int getDenominateur() {
		return this.denominateur;
	  }

	  @Override
	  public int compareTo(Rationnel autre) 
	  {
		  if (autre.valeur() > this.valeur()) {return -1;}
		  else if (autre.valeur() == this.valeur()) {return 0;}
		  else if (autre.valeur() < this.valeur()) {return 1;}
	  }
	
}
